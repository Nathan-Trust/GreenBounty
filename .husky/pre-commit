#!/bin/sh

echo 'ğŸ—ï¸ğŸ‘· Styling, testing and building your project before committing'

# Check ESLint standards
echo 'ğŸ” Running ESLint...'
npm run lint:fix --silent ||
    (
        echo 'ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤ ESLint Check Failed. Make the required changes listed above, add changes and try to commit again.'
        exit 1
    )

# Check TypeScript type checking
echo 'ğŸ” Running TypeScript type checking...'
npm run check-types --silent ||
    (
        echo 'ğŸ¤¡ğŸ˜‚âŒğŸ¤¡ Failed Type check. Make the changes required above.'
        exit 1
    )

# Build the project
echo 'ğŸ”§ Building project...'
npm run build --silent ||
    (
        echo 'âŒğŸ‘·ğŸ”¨âŒ Build failed. View the errors above to see why.'
        exit 1
    )

# Clean up any temporary files or directories
echo 'ğŸ§¹ Cleaning up...'
 rm -rf dist

echo 'âœ…âœ…âœ…âœ… Ready to commit! âœ…âœ…âœ…âœ…'
